<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Air Guitar</title>

  <!-- Prism.js syntax highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js"></script>

  <!-- Includes the stylesheet file styles.css -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- Fixed Navigation Menu -->
  <nav id="menu">
    <h3>Menu</h3>
    <ul>
      <li><a href="#top">Title</a></li>
      <li><a href="#information">Project Information</a></li>
      <li><a href="#introduction">Introduction</a></li>
      <li><a href="#circuit-diagram">Circuit</a></li>
      <li><a href="#environment">Environment</a></li>
      <li><a href="#bom">BoM</a></li>
      <li><a href="#prototype">Prototype</a></li>
      <li><a href="#code">Code</a></li>
      <li><a href="#conclusion">Conclusion</a></li>
      <li><a href="#references">References</a></li>
    </ul>
  </nav>


  <h1 id="top">Group 13 Air Guitar Project</h1>

  <section id="information">
    <h2>Project Information</h2>
    <p><strong>Course:</strong> TECH 117 (Computer Engineering Technology, Fall 2025)</p>
    <p><strong>Instructor:</strong> Ph.D. Ana Rodrigues</p>
    <p><strong>Team Members: </strong></p>
    <ul>
      <li>Javid Khan</li>
      <li>Jenner Pratt</li>
      <li>Agsajan Maheskumar</li>
      <li>Sirak Yemane Tewelde</li>
    </ul>
  </section>

  <section id="introduction">
    <h2>Introduction</h2>
    <p>This project uses an <strong>Arduino Uno</strong>, an <strong>HC-SR04 ultrasonic sensor</strong>, a
      <strong>passive buzzer</strong>, and <strong>LEDs</strong> to calculate the distance between the user and the sensor to activate a song to display using its corresponding LED.
    </p>
  </section>

  <section id="circuit-diagram">
    <h2>Circuit Diagram</h2>
    <p>The ultrasonic sensor measures distance; the Arduino activates LEDs and the buzzer according to distance
      thresholds.</p>
    <img src="air-guitar-schematic.jpg" alt="Air Guitar Arduino Schematic">
  </section>

  <section id="environment">
    <h2>Environmental Impact Assessment</h2>
    <ul>
      <li><strong>Low Power Consumption: </strong>The HC-SR04 typically operates at 5V with a current draw of only 15 mA, making it significantly more energy-efficient than sensors like gas detectors or temperature sensors, which often require higher voltages and continuous sampling.
      </li>
      <li><strong>High Accuracy & Range: </strong>It can detect objects from 2 cm to 400 cm with an accuracy of about 3 mm, which is more than sufficient for LED placement and sound mapping.</li>
      <li><strong>Cost-Effective: </strong>Compared to more complex sensors (e.g., microwave or infrared), the HC-SR04 is widely available and inexpensive, making it perfect for scalable projects.
      </li>
      <li><strong>Non-Contact Measurement: </strong>This reduces wear and tear and improves longevity, especially in installations. Typically the sensors that measure based on physical touch, do wear down after some time, but not the HC-SR04.</li>
    </ul>
    <p>By using this sensor, we can create a responsive system that maps sound to the LED positions without draining power and even budget.</p>
  </section>

  <section id="bom">
    <h1>üìù Group 13 Bill of Materials</h1>
    <table>
        <thead>
            <tr>
                <th>Item</th>
                <th>Description</th>
                <th>Qty.</th>
                <th>Specifications</th>
                <th>Estimated Cost (CAD)</th>
                <th>Supplier</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>Arduino Uno R3</td>
                <td>x1</td>
                <td>ATMega328P Microcontroller</td>
                <td>$15.99</td>
                <td><a href="https://www.canadarobotix.com/products/2073">Arduino Uno R3</a></td>
            </tr>
            <tr>
                <td>2</td>
                <td>HC-SR04</td>
                <td>x1</td>
                <td>5V (DC)</td>
                <td>$4.95</td>
                <td><a href="https://www.pishop.ca/product/arduino-compatible-hc-sr04-ultrasonicsonar-distance-sensor-module/">HC-SR04</a></td>
            </tr>
            <tr>
                <td>3</td>
                <td>Breadboard 830 Contacts</td>
                <td>x1</td>
                <td>830 Tie Points</td>
                <td>$7.95</td>
                <td><a href="https://www.pishop.ca/product/full-sized-breadboard-830-points/?searchid=0&search_query=breadboard">Breadboard 830 Contacts</a></td>
            </tr>
            <tr>
                <td>4</td>
                <td>Resistor 220</td>
                <td>x3</td>
                <td>220 Ohm, 5%</td>
                <td>$0.99</td>
                <td><a href="https://www.canadarobotix.com/products/849">Resistor 220</a></td>
            </tr>
            <tr>
                <td>5</td>
                <td>Passive Buzzer</td>
                <td>x1</td>
                <td>12mm round buzzer</td>
                <td>$1.99</td>
                <td><a href="https://www.canadarobotix.com/products/84">Passive Buzzer</a></td>
            </tr>
            <tr>
                <td>6</td>
                <td>LED Lights</td>
                <td>x8</td>
                <td>5mm LED Diode 10pcs</td>
                <td>$1.64</td>
                <td><a href="https://www.aliexpress.com/item/1005003323707856.html">LED Lights</a></td>
            </tr>
            <tr>
                <td>7</td>
                <td>Jumper Wires (M/F)</td>
                <td>x4</td>
                <td>Male to Female</td>
                <td>$4.99</td>
                <td><a href="https://www.canadarobotix.com/products/2092">Jumper Wires M/F</a></td>
            </tr>
            <tr>
                <td>8</td>
                <td>Jumper Wires (M/M)</td>
                <td>x2</td>
                <td>Male to Male</td>
                <td>$4.99</td>
                <td><a href="https://www.canadarobotix.com/products/2031">Jumper Wires M/M</a></td>
            </tr>
            <tr>
                <td>9</td>
                <td>Computer</td>
                <td>x1</td>
                <td>Arduino IDE</td>
                <td>----------</td>
                <td></td>
            </tr>
        </tbody>
    </table>
  </section>

  <section id="prototype">
    <h2>Prototype</h2>
    <p>The following image resembles the prototype with the components connected to a breadboard and Arduino Uno on a cardboard structure.</p>
    <img src="GPrototyper.jpg" alt="Guitar Prototype 1">
    <img src="GPrototypes.jpg" alt="Guitar Prototype 2">
  </section>

  <section id="code">
    <h2>Arduino Code</h2>
    <p>The following Arduino code controls the system, by giving options of which song to play using a HC-SR04 sensor to then display the song using its corresponding LED.</p>

    <pre class="line-numbers">
  <button class="copy-btn" onclick="copyCode()">Copy</button>
  <code id="arduinoCode" class="language-cpp">
#include "arduino_secrets.h"

#define ECHO_PIN 3      
#define TRIGGER_PIN 4 

#define LED_Do 13
#define LED_Re 12
#define LED_Mi 11
#define LED_Fa 10
#define LED_Sol 9
#define LED_La 8
#define LED_Si 7  
#define LED_Do_High 6

#define BUZZER_PIN 2

unsigned long last_time_ultrasonic_trigger = 0;
unsigned long ultrasonic_trigger_delay = 100;

volatile unsigned long pulse_start;
volatile unsigned long pulse_end;
volatile bool new_distance_available = false;

const int time_delay = 100;

// Notes (frequencies)
int notes[] = {
  523,  // Do
  587,  // Re
  659,  // Mi
  698,  // Fa
  784,  // Sol
  880,  // La
  988,  // Si
  1046  // High Do
};

void trigger_ultrasonic_sensor() {
  digitalWrite(TRIGGER_PIN, LOW);  
  delayMicroseconds(2);
  digitalWrite(TRIGGER_PIN, HIGH);  
  delayMicroseconds(10);
  digitalWrite(TRIGGER_PIN, LOW);
}

void echo_interrupt() {
  if (digitalRead(ECHO_PIN) == HIGH) {
    pulse_start = micros();
  } else {
    pulse_end = micros();
    new_distance_available = true;
  }
}

double get_distance() {
  double duration = pulse_end - pulse_start;
  return duration / 58.0; // convert to cm
}

void turn_off_all_leds() {
  digitalWrite(LED_Do, LOW);
  digitalWrite(LED_Re, LOW);
  digitalWrite(LED_Mi, LOW);
  digitalWrite(LED_Fa, LOW);
  digitalWrite(LED_Sol, LOW);
  digitalWrite(LED_La, LOW);
  digitalWrite(LED_Si, LOW);
  digitalWrite(LED_Do_High, LOW);
}

void setup() {
  Serial.begin(9600);

  pinMode(TRIGGER_PIN, OUTPUT);
  pinMode(ECHO_PIN, INPUT);

  pinMode(LED_Do, OUTPUT);
  pinMode(LED_Re, OUTPUT);
  pinMode(LED_Mi, OUTPUT);
  pinMode(LED_Fa, OUTPUT);
  pinMode(LED_Sol, OUTPUT);
  pinMode(LED_La, OUTPUT);
  pinMode(LED_Si, OUTPUT);
  pinMode(LED_Do_High, OUTPUT);

  pinMode(BUZZER_PIN, OUTPUT);

  attachInterrupt(digitalPinToInterrupt(ECHO_PIN), echo_interrupt, CHANGE);

  Serial.println("Air Piano Ready!");
}

void loop() {
  unsigned long now = millis();

  if (now - last_time_ultrasonic_trigger > ultrasonic_trigger_delay) {
    last_time_ultrasonic_trigger = now;
    trigger_ultrasonic_sensor();
  }

  if (new_distance_available) {
    new_distance_available = false;
    double distance = get_distance();

    int note_index = -1;

    if (distance > 3 && distance <= 6) note_index = 0;
    else if (distance > 6 && distance <= 8.5) note_index = 1;
    else if (distance > 8.5 && distance <= 12) note_index = 2;
    else if (distance > 12 && distance <= 15) note_index = 3;
    else if (distance > 15 && distance <= 18) note_index = 4;
    else if (distance > 18 && distance <= 21) note_index = 5;
    else if (distance > 21 && distance <= 24) note_index = 6;
    else if (distance > 24 && distance <= 27) note_index = 7;
    else{
      noTone(BUZZER_PIN);
    }
    if (note_index != -1) {
      turn_off_all_leds();

      int led_pin;
      if (note_index == 7)
        led_pin = LED_Do_High;
      else
        led_pin = LED_Do - note_index;

      digitalWrite(led_pin, HIGH);

      tone(BUZZER_PIN, notes[note_index]);
      //delay(time_delay);
      //noTone(BUZZER_PIN);
    }
  }

  delay(5);
}
    </code></pre>

    <script>
      function copyCode() {
        const code = document.getElementById('arduinoCode').innerText;
        navigator.clipboard.writeText(code).then(() => {
          alert('Code copied to clipboard!');
        });
      }
    </script>
  </section>



  <section id="conclusion">
    <h2>Conclusion</h2>
    <p>This Project serves as a purpose for people to interact with a tool to encourage them to learn a new skill and making them productive to take their mind off of unproductive things whilst also having fun in the process.</p>
  </section>

 <section id="references">
  <h2>References</h2>
  <p>
    The following external resources are the sources we used to research our project:
  </p>

  <ul>
    <li>
      Dmqlkig. (2022, September 26).
      <em>Breadboard air guitar.</em> 
      Arduino Project Hub. 
      <a href="https://projecthub.arduino.cc/dmqlkig/breadboard-air-guitar-ed93e0" target="_blank" rel="noopener noreferrer">
        https://projecthub.arduino.cc/dmqlkig/breadboard-air-guitar-ed93e0
      </a>
    </li>

    <li>
      shmuel_rubin (2025, Apr 29). 
      <em>Play Music in the Air! | Arduino Air Piano Project. </em> 
      Arduino Project Hub. 
      <a href="https://projecthub.arduino.cc/shmuel_rubin/play-music-in-the-air-arduinoair-piano-project-8e5a68" target="_blank" rel="noopener noreferrer">
        https://projecthub.arduino.cc/shmuel_rubin/play-music-in-the-air-arduinoair-piano-project-8e5a68
      </a>
    </li>

    <li>
      Shmuel Rubin (2025, Apr 29).  
      <em>Play music in the air! Arduino air piano project.</em> 
      Youtube. 
      <a href="https://www.youtube.com/watch?v=TPOGeCwOrHk" target="_blank" rel="noopener noreferrer">
        https://www.youtube.com/watch?v=TPOGeCwOrHk
      </a>
    </li>
  </ul>
</section>



</body>

</html>